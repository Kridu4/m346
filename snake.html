<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZRHSNAKE - ZRH GameZ</title>
    <style>
        body {
			background-color: black;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            font-family: Arial, sans-serif;
        }
        #game-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 20px;
        }
        #game-board {
		background-color: white;
            border: 3px solid black;
            width: 400px;
            height: 400px;
            display: grid;
            grid-template-columns: repeat(20, 1fr);
            grid-template-rows: repeat(20, 1fr);
        }
        .snake, .apple {
            background-color: blue;
        }
        .apple {
            background-color: green;
        }
        #score-container {
            font-size: 18px;
            margin-bottom: 10px;
			color: white;
        }
        #game-over {
            font-size: 26px;
            color: white;
            display: none;
            margin-bottom: 20px;
        }
        #refresh-button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 16px;
            display: none;
        }
        #start-button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 16px;
        }
		 nav ul
		{
			list-style-type: none;
		}		

		nav li {
			float: left;
			width: 20%;
		}

		nav a {
			background-color: black;
			display: block;
			text-align: center;
			padding: 4px 0;
			color: white;
			text-decoration: none;
		}

		nav a:hover {
			background-color: white;
			color: black;
			transition: .5s;
		}
    </style>
</head>
<body>
    <div id="game-container">
        <div id="game-over">Game Over! Your score is <span id="final-score">0</span></div>
        <div id="game-board"></div>
        <div id="score-container">Score: <span id="score">0</span></div>
        <button id="start-button">Start Game</button>
        <button id="refresh-button">Refresh</button>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const gameBoard = document.getElementById('game-board');
            const scoreDisplay = document.getElementById('score');
            const gameOverMessage = document.getElementById('game-over');
            const finalScoreDisplay = document.getElementById('final-score');
            const refreshButton = document.getElementById('refresh-button');
            const startButton = document.getElementById('start-button');

            const gridSize = 20; // Grid size
            let snake = [{x: 10, y: 10}]; // Initial snake position
            let apple = {x: 5, y: 5}; // Initial apple position
            let dx = 1; // Initial movement direction
            let dy = 0;
            let score = 0;
            let gamePaused = true; // Flag to control game pause/resume

            let gameInterval;

            function draw() {
                // Clear previous board
                gameBoard.innerHTML = '';

                // Draw snake
                snake.forEach(segment => {
                    const snakeElement = document.createElement('div');
                    snakeElement.style.gridColumn = segment.x;
                    snakeElement.style.gridRow = segment.y;
                    snakeElement.classList.add('snake');
                    gameBoard.appendChild(snakeElement);
                });

                // Draw apple
                const appleElement = document.createElement('div');
                appleElement.style.gridColumn = apple.x;
                appleElement.style.gridRow = apple.y;
                appleElement.classList.add('apple');
                gameBoard.appendChild(appleElement);

                // Update score
                scoreDisplay.textContent = score;
            }

            function move() {
                if (gamePaused) return;

                const head = {x: snake[0].x + dx, y: snake[0].y + dy};

                // Check if snake eats apple
                if (head.x === apple.x && head.y === apple.y) {
                    score++;
                    // Generate new apple
                    generateNewApple();
                } else {
                    // Remove tail segment
                    snake.pop();
                }

                // Check game over conditions
                if (isGameOver(head)) {
                    endGame();
                    return;
                }

                // Move snake
                snake.unshift(head);
                draw();
            }

            function generateNewApple() {
                apple = {
                    x: Math.floor(Math.random() * gridSize) + 1,
                    y: Math.floor(Math.random() * gridSize) + 1
                };
            }

            function isGameOver(head) {
                // Check if snake hits the wall or itself
                return head.x < 1 || head.x > gridSize || head.y < 1 || head.y > gridSize || checkCollision(head);
            }

            function checkCollision(head) {
                // Check if snake collides with itself
                return snake.slice(1).some(segment => segment.x === head.x && segment.y === head.y);
            }

            function endGame() {
                clearInterval(gameInterval);
                gamePaused = true;
                gameOverMessage.style.display = 'block';
                finalScoreDisplay.textContent = score;
                refreshButton.style.display = 'inline-block';
            }

            function startGame() {
                startButton.style.display = 'none'; // Hide start button
                gamePaused = false;
                gameInterval = setInterval(move, 100); // Start game interval
            }

            function resetGame() {
                snake = [{x: 10, y: 10}];
                dx = 1;
                dy = 0;
                score = 0;
                gamePaused = false;
                gameOverMessage.style.display = 'none';
                refreshButton.style.display = 'none';
                draw();
                startButton.style.display = 'inline-block'; // Show start button again
            }

            function changeDirection(event) {
                const key = event.keyCode;
                if (key === 37 && dx === 0) { // left arrow
                    dx = -1;
                    dy = 0;
                } else if (key === 38 && dy === 0) { // up arrow
                    dx = 0;
                    dy = -1;
                } else if (key === 39 && dx === 0) { // right arrow
                    dx = 1;
                    dy = 0;
                } else if (key === 40 && dy === 0) { // down arrow
                    dx = 0;
                    dy = 1;
                } else if (key === 32) { // spacebar for pause/resume
                    gamePaused = !gamePaused;
                }
            }

            // Event listeners
            document.addEventListener('keydown', changeDirection);
            startButton.addEventListener('click', startGame);
            refreshButton.addEventListener('click', resetGame);

            // Draw initial state
            draw();
        });
    </script>
</body>
</html>
